{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/home/priscilla/www/NEW_DIGITAL_PROGRAM/frontend-ecommerce-qrcode/src/components/Product/index.tsx\";\nimport { useCart } from '@/context/Cart/CartContext';\nimport cep from 'cep-promise';\nimport Link from 'next/link';\nimport React, { memo, useEffect, useState } from 'react';\nimport { FiAlertCircle, FiMapPin, FiTruck } from 'react-icons/fi';\nimport { ButtonPrimary, ButtonSecundary } from '../Basics/Button/styles';\nimport { Input, Label } from '../Basics/Input/styles';\nimport Select from '../Basics/Select';\nimport CardCollapse from '../CardCollapse';\nimport { Address, Container, Delivery, Description, Error, Info, Quantity } from './styles';\n\nconst Product = ({\n  product,\n  availability,\n  title,\n  stock,\n  price,\n  description,\n  image\n}) => {\n  const {\n    0: quantity,\n    1: setQuantity\n  } = useState(1);\n  const {\n    0: inputCep,\n    1: setInputCep\n  } = useState('');\n  const {\n    cart,\n    setCart,\n    address,\n    setAddress\n  } = useCart();\n\n  const handleAddCart = () => {\n    const data = {\n      product: product,\n      quantity: quantity\n    };\n    setCart({\n      type: 'ADD',\n      payload: data\n    });\n  };\n\n  useEffect(() => {\n    if (inputCep && inputCep.length === 8) {\n      cep(inputCep).then(response => setAddress(response)).catch(error => console.log(error));\n    }\n  }, [inputCep]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: image,\n      alt: title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Description, {\n      children: [/*#__PURE__*/_jsxDEV(\"section\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"R$ \", price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Info, {\n        children: /*#__PURE__*/_jsxDEV(CardCollapse, {\n          title: \"Mais Informa\\xE7\\xF5es\",\n          body: description,\n          expanded: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Quantity, {\n        children: [/*#__PURE__*/_jsxDEV(Select, {\n          label: \"Quantidade:\",\n          list: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10],\n          value: quantity,\n          onChange: e => setQuantity(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/cart\",\n          children: /*#__PURE__*/_jsxDEV(ButtonPrimary, {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleAddCart(),\n              children: \"COMPRAR\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          href: \"/cart\",\n          children: /*#__PURE__*/_jsxDEV(ButtonSecundary, {\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: () => handleAddCart(),\n              children: \"Adicionar ao Carrinho\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 70,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Delivery, {\n        children: [/*#__PURE__*/_jsxDEV(Label, {\n          children: \"Calcular Frete (CEP):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 75,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Input, {\n          value: inputCep,\n          onChange: e => setInputCep(e.target.value),\n          type: \"number\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), address ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(Address, {\n            children: [/*#__PURE__*/_jsxDEV(FiMapPin, {\n              size: 15\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [address.street, \", \", address.neighborhood, \", \", address.city, \" - \", address.state]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Address, {\n            children: [/*#__PURE__*/_jsxDEV(FiTruck, {\n              size: 15\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Chegar\\xE1 \", \" por R$ \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true) : inputCep && inputCep.length === 8 ? /*#__PURE__*/_jsxDEV(Error, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(FiAlertCircle, {\n            size: 15\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 63\n          }, this), \" CEP Inv\\xE1lido\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 55\n        }, this) : '']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n};\n\nexport default /*#__PURE__*/memo(Product);","map":{"version":3,"sources":["/home/priscilla/www/NEW_DIGITAL_PROGRAM/frontend-ecommerce-qrcode/src/components/Product/index.tsx"],"names":["useCart","cep","Link","React","memo","useEffect","useState","FiAlertCircle","FiMapPin","FiTruck","ButtonPrimary","ButtonSecundary","Input","Label","Select","CardCollapse","Address","Container","Delivery","Description","Error","Info","Quantity","Product","product","availability","title","stock","price","description","image","quantity","setQuantity","inputCep","setInputCep","cart","setCart","address","setAddress","handleAddCart","data","type","payload","length","then","response","catch","error","console","log","e","target","value","street","neighborhood","city","state"],"mappings":"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","sourcesContent":["import { useCart } from '@/context/Cart/CartContext';\nimport cep from 'cep-promise';\nimport Link from 'next/link';\nimport { Document } from 'prismic-javascript/types/documents';\nimport React, { memo, useEffect, useState } from 'react';\nimport { FiAlertCircle, FiMapPin, FiTruck } from 'react-icons/fi';\nimport { ButtonPrimary, ButtonSecundary } from '../Basics/Button/styles';\nimport { Input, Label } from '../Basics/Input/styles';\nimport Select from '../Basics/Select';\nimport CardCollapse from '../CardCollapse';\nimport { Address, Container, Delivery, Description, Error, Info, Quantity } from './styles';\n\ninterface ProductProps {\n  product: Document;\n  availability: boolean;\n  title: string;\n  stock: number;\n  price: number;\n  description: string;\n  image: string;\n  slug?: string;\n}\n\nconst Product: React.FC<ProductProps> = ({product, availability, title, stock, price, description, image}) => {\n  const [quantity, setQuantity] = useState(1);\n  const [inputCep, setInputCep] = useState('');\n  const {cart, setCart, address, setAddress} = useCart();\n\n  const handleAddCart = () => {\n    const data = {\n      product: product,\n      quantity: quantity,\n    }\n    setCart({ type: 'ADD', payload: data });\n  }\n\n  useEffect(() => {\n    if (inputCep && inputCep.length === 8) { \n      cep(inputCep)\n      .then(response => setAddress(response))\n      .catch(error => console.log(error))\n    }\n  }, [inputCep])\n\n  return (\n    <Container>\n      <img src={image} alt={title}/>\n      <Description>\n        <section>\n          <h2>{title}</h2>\n          <span>R$ {price}</span>\n        </section>\n        <Info>\n          <CardCollapse title=\"Mais Informações\" body={description} expanded={true} />\n        </Info>\n        <Quantity>\n          <Select \n            label=\"Quantidade:\" \n            list={[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]} \n            value={quantity} \n            onChange={(e) => setQuantity(e.target.value)}\n          />\n          <Link href=\"/cart\">\n            <ButtonPrimary>\n              <button type=\"button\" onClick={() => handleAddCart()}>COMPRAR</button>\n            </ButtonPrimary>\n          </Link>\n          <Link href=\"/cart\">\n            <ButtonSecundary>\n              <button type=\"button\" onClick={() => handleAddCart()}>Adicionar ao Carrinho</button>\n            </ButtonSecundary>\n          </Link>\n        </Quantity>\n        <Delivery>\n          <Label>Calcular Frete (CEP):</Label>\n          <Input \n          value={inputCep} \n          onChange={(e) => setInputCep(e.target.value)}\n          type=\"number\"\n          />\n          {address ? (\n            <>\n              <Address>\n                <FiMapPin size={15}/>\n                <p>{address.street}, {address.neighborhood}, {address.city} - {address.state}</p>\n              </Address>\n              <Address>\n                <FiTruck size={15}/>\n                <p>Chegará {} por R$ {}</p>\n              </Address>\n            </>\n          ) :  (inputCep && inputCep.length === 8) ? (<Error> <FiAlertCircle size={15}/> CEP Inválido</Error>) : ''}\n        </Delivery>\n      </Description>\n    </Container>\n  )\n}\n\nexport default memo(Product)\n"]},"metadata":{},"sourceType":"module"}